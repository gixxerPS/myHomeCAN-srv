html
  head
    title= title
    include includes/head.pug
    script(src='script/room.js')
  body
    include includes/toc.pug
    header Raumbedienung
    div(id="content")
        h1= roomtitle
        
        hr
        #lights
        table
          tbody
            tr
              td
                img(src='./images/light.jpeg' height="42" width="42")
              td
                table(class= 'tableIO')
                  thead
                    tr: th Licht
                  tbody
                    each item in roomObj
                        if item.type === 'light'
                          tr
                            td
                              = item.str
                            td 
                              button(onClick="lightClick(this.id, 'ON')" type="button" id= item.out_addr) AN
                            td 
                              button(onClick="lightClick(this.id, 'OFF')" type="button" id= item.out_addr) AUS
                            td
                              div(class='output_circle' id= item.out_addr+'_output_circle')
              td
                p Verknüpfte Ereignisse: (Zeitschaltuhr, ...)
        hr
        #shutter
        table
          tr
            td
              img(src='./images/jalousie.jpeg' height="42" width="42")
            td
              table(class= 'tableIO')
                  thead
                    tr: th Rolladen
                  tbody
                    each item in roomObj
                        if item.type === 'shutter'
                          tr
                            td
                              = item.str
                            td 
                              button(onClick="shutterClick(this.id, 'DOWN')" type="button" id= item.out_down_addr) AB
                            td 
                              button(onClick="shutterClick(this.id, 'UP')" type="button" id= item.out_up_addr) AUF
                            td 
                              button(onClick="shutterClick(this.id, 'STOP')" type="button" id= item.out_up_addr) STOP 
                            td
                              table
                                tr
                                  td 
                                    svg(width=20 height=20)
                                      polygon(class='output_delta' id= item.out_up_addr+'_output_delta' points="0,17.4 10,0 20,17.4" style="fill:white;stroke:black;stroke-width:1")
                                tr
                                  td
                                    svg(width=20 height=20)
                                      polygon(class='output_delta' id= item.out_down_addr+'_output_delta' points="0,0 10.0,17.4 20.0,0" style="fill:white;stroke:black;stroke-width:1")
            td
              p Verknüpfte Ereignisse: (Zeitschaltuhr, ...)
        hr
        #heating
        table
          tr
            td
              img(src='./images/thermometer.png' height="54" width="42")
            td
              table(class= 'tableTemp')
                  thead
                    tr: th Heizung/Temperatur
                  tbody
                    tr: td
                        td Istwert
                        td
                        td Sollwert
                        td
                        td
                    each item in roomObj
                        if item.type === 'heating'
                          tr
                            td
                              = item.str
                            td 
                              input(type="text" id= item.ctrl_val_addr+'_act' readonly)
                            td °C
                            td 
                              input(type="range" id= item.ctrl_val_addr+'_cmd' min= '0' max= '40' class= '_cmd')
                            td 
                              input(type="number" id= item.ctrl_val_addr+'_cmdshow' min= '0' max= '40' class= '_cmdshow')
                            td °C
                            td
                              div(class='output_circle' id= item.ctrl_val_addr+'_output_circle')
            td
              p Verknüpfte Ereignisse: (Zeitschaltuhr, ...)
        hr
        #receptacles
        table
          tbody
            tr
              td
                img(src='./images/receptacle.jpeg' height="42" width="42")
              td
                table(class= 'tableIO')
                    thead
                      tr: th Steckdosen
                    tbody
                      each item in roomObj
                          if item.type === 'receptacle'
                            tr
                              td
                                = item.str
                              td 
                                button(onClick="receptClick(this.id, 'ON')" type="button" id= item.out_addr) AN
                              td 
                                button(onClick="receptClick(this.id, 'OFF')" type="button" id= item.out_addr) AUS
                              td
                                div(class='output_circle' id= item.out_addr+'_output_circle')
              td
                p Verknüpfte Ereignisse: (Zeitschaltuhr, ...)

      
    include includes/footer.pug

